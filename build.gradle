buildscript {
    ext.versions = [
        'incap' : '0.3',
        'kotlin': '1.7.10'
    ]

    ext.deps = [
        android: [
            'runtime': 'com.google.android:android:4.1.1.4',
            'gradlePlugin': "com.android.tools.build:gradle:4.2.2",
        ],
        'autoService':'com.google.auto.service:auto-service:1.0.1',
        'kotlin': [
            'reflect': "org.jetbrains.kotlin:kotlin-reflect:${versions.kotlin}",
            'stdlib': "org.jetbrains.kotlin:kotlin-stdlib-jdk7:${versions.kotlin}"
        ],
        'incap': [
            'runtime': "net.ltgt.gradle.incap:incap:${versions.incap}",
            'processor': "net.ltgt.gradle.incap:incap-processor:${versions.incap}",
        ],
        'junit': 'junit:junit:4.13.2',
        'kotlinx': [
            'metadataJvm':"org.jetbrains.kotlinx:kotlinx-metadata-jvm:0.5.0"
        ],
        'kotlinpoet': 'com.squareup:kotlinpoet:1.12.0'
    ]

    repositories {
        mavenCentral()
    }

    dependencies {
        classpath "org.jetbrains.kotlin:kotlin-gradle-plugin:${versions.kotlin}"
        classpath "com.vanniktech:gradle-maven-publish-plugin:0.21.0"
    }

    allprojects {
        repositories {
            google()
            mavenCentral()
            maven { url "https://kotlin.bintray.com/kotlinx/" }
        }

        plugins.withId("com.vannitech.maven.publish.base") {
            group = GROUP
            version = VERSION_NAME

            mavenPublishing {
                publishToMavenCentral("DEFAULT")

                signAllPublications()

                pom {
                    name = POM_NAME
                    description = POM_DESCRIPTION
                    packaging = POM_PACKAGING
                    inceptionYear = POM_INCEPTION_YEAR
                    url = POM_URL
                    licenses {
                        license {
                            name = POM_LICENSE_NAME
                            url = POM_LICENCE_URL
                            distribution = POM_LICENCE_DIST
                        }
                    }
                    developers {
                        id = POM_DEVELOPER_ID
                        name = POM_DEVELOPER_NAME
                        url = POM_DEVELOPER_URL
                    }
                    scm {
                        url = POM_SCM_URL
                        connection = POM_SCM_CONNECTION
                        developerConnection = POM_SCM_DEV_CONNECTION
                    }
                }
            }
        }
    }
}


plugins {
    id "com.github.ben-manes.versions" version "0.42.0"
}
